# viewers/pdf_viewer.py
from PySide6 import QtWidgets, QtCore, QtGui
from PySide6.QtCore import Qt
import os

class PDFViewer(QtWidgets.QWidget):
    """Widget hiá»ƒn thá»‹ PDF (placeholder - cáº§n thÃªm thÆ° viá»‡n PDF)"""

    def __init__(self):
        super().__init__()
        layout = QtWidgets.QVBoxLayout(self)

        self.info_label = QtWidgets.QLabel("ğŸ“„ PDF Viewer")
        self.info_label.setAlignment(Qt.AlignCenter)
        layout.addWidget(self.info_label)

        # Toolbar cho PDF
        toolbar = QtWidgets.QToolBar()
        self.page_spin = QtWidgets.QSpinBox()
        self.page_spin.setMinimum(1)
        toolbar.addWidget(QtWidgets.QLabel("Trang:"))
        toolbar.addWidget(self.page_spin)
        toolbar.addAction("â¬…ï¸").triggered.connect(self.prev_page)
        toolbar.addAction("â¡ï¸").triggered.connect(self.next_page)
        layout.addWidget(toolbar)

        self.pdf_path = None
        self.current_page = 1
        self.total_pages = 1

    def load_pdf(self, file_path):
        """Load PDF file"""
        self.pdf_path = file_path
        self.info_label.setText(f"ğŸ“„ {os.path.basename(file_path)}")
        # TODO: Implement PDF rendering vá»›i PyMuPDF hoáº·c pdf2image

    def prev_page(self):
        if self.current_page > 1:
            self.current_page -= 1
            self.page_spin.setValue(self.current_page)

    def next_page(self):
        if self.current_page < self.total_pages:
            self.current_page += 1
            self.page_spin.setValue(self.current_page)
